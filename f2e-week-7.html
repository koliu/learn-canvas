<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
</head>

<body>
  <canvas id="draw1">
    這裡有個 canvas，但您的瀏覽器不支援！
  </canvas>

  <script>
    const $white = 'rgb(255, 255, 255)';
    const $red = '#E7465D';
    const $yellow = '#F5AF5F'
    const $blue = '#3676BB'
    const $bgBlue = '#001D2E';
    const draw1 = document.querySelector("#draw1");
    draw1.width = window.innerWidth;
    draw1.height = window.innerHeight;
    const $w = draw1.offsetWidth;
    const $h = draw1.offsetHeight;
    const $cx = $w / 2;
    const $cy = $h / 2;
    const $divides = 3;
    /* base width */
    const $bw = $w / $divides;
    /* base height */
    const $bh = $h / $divides;
    const $angle360 = Math.PI * 2 / 180;
    console.log(
      `$w=${$w}`,
      `$h=${$h}`,
      `$bw=${$bw}`,
      `$bh=${$bh}`,
      `$angle360=${$angle360}`
    );
    const fontFamily = "Roboto,Arial,微軟正黑體";
    let tempX, tempY;

    const icons = {
      battery: {
        draw: function (ctx, x, y, scaleX, scaleY) {
          ctx.translate(x, y);
          ctx.scale(scaleX, scaleY);
          ctx.save();

          const unit = 10;
          const w = 4 * unit;
          let tempBeginX;
          let tempBeginY;

          // head
          tempBeginX = unit;
          tempBeginY = 0;
          ctx.beginPath();
          ctx.moveTo(tempBeginX, tempBeginY);
          ctx.lineTo(tempBeginX * 3, tempBeginY);
          ctx.lineTo(tempBeginX * 3, unit);
          ctx.lineTo(tempBeginX, unit);
          ctx.closePath();
          ctx.fillStyle = "#ffffff";
          ctx.fill("nonzero");
          ctx.restore();

          // body
          ctx.save();
          ctx.fillStyle = "#f5af5f";
          tempBeginX = 0;
          tempBeginY = unit;
          ctx.beginPath();
          ctx.moveTo(tempBeginX, tempBeginY);
          ctx.lineTo(w, tempBeginY);
          ctx.lineTo(w, unit * 7);
          ctx.lineTo(tempBeginX, unit * 7);
          ctx.closePath();
          ctx.fill("nonzero");
          ctx.restore();

          // bottom
          ctx.save();
          ctx.fillStyle = "#f5af5f";
          tempBeginX = 0;
          tempBeginY = unit * 7.5;
          ctx.beginPath();
          ctx.moveTo(tempBeginX, tempBeginY);
          ctx.lineTo(w, tempBeginY);
          ctx.lineTo(w, tempBeginY + unit);
          ctx.lineTo(tempBeginX, tempBeginY + unit);
          ctx.closePath();
          ctx.fill("nonzero");
          ctx.restore();

          // bolt top
          ctx.save();
          ctx.fillStyle = '#fff';
          tempBeginX = 3 * unit;
          tempBeginY = unit * 1.5;
          ctx.beginPath();
          ctx.moveTo(tempBeginX, tempBeginY);
          ctx.lineTo(unit * 0.5, tempBeginY + 3 * unit);
          ctx.lineTo(2 * unit, tempBeginY + 3 * unit);
          ctx.closePath();
          ctx.fill("nonzero");
          ctx.restore();

          // bolt bottom
          ctx.save();
          ctx.fillStyle = '#fff';
          tempBeginX = 2 * unit;
          tempBeginY = 3.5 * unit;
          ctx.beginPath();
          ctx.moveTo(tempBeginX, tempBeginY);
          ctx.lineTo(tempBeginX + 1.5 * unit, tempBeginY);
          ctx.lineTo(unit, tempBeginY + 3 * unit);
          ctx.closePath();
          ctx.fill("nonzero");
          ctx.restore();
        }
      }
    }

    const ctx = draw1.getContext ? draw1.getContext("2d") : undefined;

    const lineX = new Path2D();
    lineX.moveTo(0, 0);
    lineX.lineTo($w, 0);
    lineX.closePath();

    const lineY = new Path2D();
    lineY.moveTo(0, 0);
    lineY.lineTo(0, $h);
    lineY.closePath();

    const circle = new Path2D();
    circle.arc(0, 0, $h / 2, 0, $angle360, true);

    ctx.save();

    ctx.strokeStyle = 'rgba(0, 255, 0, 0.3)';
    // draw grid lines
    Array.from(Array($divides - 1).keys()).forEach(i => {
      const tempI = i + 1;

      ctx.translate($bw * tempI, 0);
      ctx.stroke(lineY);
      ctx.setTransform(1, 0, 0, 1, 0, 0);

      ctx.translate(0, $bh * tempI);
      ctx.stroke(lineX);
      ctx.setTransform(1, 0, 0, 1, 0, 0);
    })

    let tempScale = 0.01;
    // draw origin
    ctx.translate($cx, $cy);
    ctx.scale(tempScale, tempScale);
    ctx.fillStyle = 'rgba(0, 255, 0, 0.3)';
    ctx.fill(circle);
    ctx.setTransform(1, 0, 0, 1, $cx, $cy);

    // draw outer circle
    tempScale = 0.44 + 1 / 3;
    ctx.scale(tempScale, tempScale);
    ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
    ctx.stroke(circle);
    ctx.setTransform(1, 0, 0, 1, $cx, $cy);

    // draw inner circle
    tempScale = 0.55;
    ctx.scale(tempScale, tempScale);
    ctx.strokeStyle = $white;
    ctx.lineWidth = 3;
    ctx.stroke(circle);
    ctx.setTransform(1, 0, 0, 1, 0, 0);

    // top-right yellow circle
    ctx.beginPath();
    ctx.arc($bw * 2.5, $bh / 3 * 1.8, 0.2 * $bh, 0, Math.PI * 2 / 180, true);
    ctx.fillStyle = $yellow;
    ctx.fill();

    // bottom triangle
    tempX = $bw * 2.2;
    tempY = $bh * 2.1;
    ctx.beginPath();
    ctx.moveTo(tempX, tempY);
    ctx.lineTo(tempX - 45, tempY + 70);
    ctx.lineTo(tempX + 35, tempY + 75);
    ctx.fillStyle = $blue;
    ctx.fill();

    // top-left hexagon
    tempX = $bw * 0.17;
    tempY = $bh * 0.8;
    ctx.beginPath();
    ctx.moveTo(tempX - 5, tempY + 5);
    ctx.lineTo(tempX + 35, tempY - 10);
    ctx.lineTo(tempX + 70, tempY + 5);
    ctx.lineTo(tempX + 75, tempY + 30);
    ctx.lineTo(tempX + 55, tempY + 60);
    ctx.lineTo(tempX + 10, tempY + 45);
    ctx.fillStyle = $red;
    ctx.fill();

    // draw text
    ctx.fillStyle = $white;
    tempX = $bw * 0.13;
    tempY = $bh * 2.5;
    ctx.font = `14px ${fontFamily}`;
    ctx.fillText('你身負著運送能量電池的任務', tempX, tempY);
    ctx.fillText('卻遭到幾何星人的埋伏', tempX, tempY + 20);
    ctx.fillText('請協助從他們的手中奪回能量電池', tempX, tempY + 40);

    tempScale = 10;
    ctx.font = `70px ${fontFamily}`;
    ctx.fillText('R', $cx - 15, $cy - 20);

    ctx.font = `20px ${fontFamily}`;
    ctx.fillText('Radio Defence', $cx - 60, $cy + 10);

    ctx.font = `15px ${fontFamily}`;
    ctx.fillText('Start Game', $cx - 32, $cy + 62);

    ctx.moveTo($cx - 50, $cy - 50);

    icons.battery.draw(ctx, $cx - 40, $cy - 59, 0.5 , 0.45);
  </script>

  <style>
    * {
      margin: 0;
      padding: 0;
    }

    html,
    body {
      height: 100%;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: 'Roboto', sans-serif;
    }

    #draw1 {
      background-color: #001D2E;
    }
  </style>
</body>

</html>
